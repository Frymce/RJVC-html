<?php
// On récupère les messages de confirmation ou d'erreur si nécessaires
$successMessage = isset($_GET['success']) ? $_GET['success'] : '';
$errorMessage = isset($_GET['error']) ? $_GET['error'] : '';
?>

<!DOCTYPE html>

<html class="dark" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Contact Us - RJVC</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&amp;display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
      rel="stylesheet"
    />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>

      /* Mobile menu styles */
      .mobile-menu {
        transform: translateX(100%);
        transition: transform 0.3s ease-out;
        width: 85%;
        max-width: 320px;
      }

      .mobile-menu.open {
        transform: translateX(0);
      }

      .overlay {
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease-out;
        background: rgba(0, 0, 0, 0.8);
        z-index: 49;
      }

      .overlay.open {
        opacity: 1;
        visibility: visible;
      }
    </style>
    <script id="tailwind-config">
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#FFD700",
              "background-light": "#f8f8f5", // Not used per user request, but kept for consistency
              "background-dark": "#0A192F",
            },
            fontFamily: {
              display: ["Poppins", "sans-serif"],
            },
            borderRadius: {
              DEFAULT: "0.25rem",
              lg: "0.5rem",
              xl: "0.75rem",
              full: "9999px",
            },
          },
        },
      };
    </script>
  </head>
  <body
    class="font-display bg-background-light dark:bg-background-dark text-[#E6F1FF]"
  >
    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu-overlay" class="overlay fixed inset-0 md:hidden"></div>

    <!-- Mobile Menu -->
    <div
      id="mobile-menu"
      class="mobile-menu fixed right-0 top-0 z-50 h-full bg-background-dark shadow-xl"
    >
      <div class="p-6 h-full flex flex-col">
        <!-- Header with close button -->
        <div
          class="flex items-center justify-between mb-8 pb-4 border-b border-primary/20"
        >
          <div class="flex items-center gap-4 text-primary">
            <div class="size-6">
              <svg
                fill="none"
                viewbox="0 0 48 48"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z"
                  fill="currentColor"
                ></path>
              </svg>
            </div>
            <h2
              class="text-white text-xl font-bold leading-tight tracking-[-0.015em]"
            >
              RJVC
            </h2>
          </div>
          <button
            id="close-menu-button"
            class="text-white hover:text-primary transition-colors p-2"
          >
            <i class="fas fa-times text-3xl"></i>
          </button>
        </div>

        <!-- Navigation -->
        <nav class="flex-1">
          <div class="flex flex-col gap-1">
            <a
              class="text-lg font-medium text-white hover:text-primary transition-colors hover:bg-white/5 py-4 px-4 rounded-lg"
              href="./index.html"
              >Accueil</a
            >
            <a
              class="text-lg font-medium text-white hover:text-primary transition-colors hover:bg-white/5 py-4 px-4 rounded-lg"
              href="./about.html"
              >À propos</a
            >
            <a
              class="text-lg font-medium text-white hover:text-primary transition-colors hover:bg-white/5 py-4 px-4 rounded-lg"
              href="./communaut.html"
              >Communauté</a
            >
            <a
              class="text-lg font-medium text-white hover:text-primary transition-colors hover:bg-white/5 py-4 px-4 rounded-lg"
              href="./evenemetavenir.html"
              >Événements</a
            >
            <a
              class="text-lg font-medium text-white hover:text-primary transition-colors hover:bg-white/5 py-4 px-4 rounded-lg"
              href="./contact.html"
              >Contact</a
            >
            <a
              class="text-lg font-medium text-white hover:text-primary transition-colors hover:bg-white/5 py-4 px-4 rounded-lg"
              href="./rejoindre.php"
              >Nous Rejoindre</a
            >
          </div>
        </nav>

        <!-- Donation Button -->
        <div class="mt-auto pt-6 border-t border-primary/20">
          <button
            class="flex w-full items-center justify-center rounded-lg h-12 bg-primary text-background-dark text-base font-bold hover:bg-primary/90 transition-colors"
          >
            Faire un don
          </button>
        </div>
      </div>
    </div>

    <div
      class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden"
    >
      <div class="layout-container flex h-full grow flex-col">
        <!-- TopNavBar -->
        <header
          class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-primary/20 px-4 sm:px-10 lg:px-20 py-4"
        >
          <div class="flex items-center gap-4 text-primary">
            <div class="size-6">
              <svg
                fill="none"
                viewbox="0 0 48 48"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z"
                  fill="currentColor"
                ></path>
              </svg>
            </div>
            <h2
              class="text-white text-xl font-bold leading-tight tracking-[-0.015em]"
            >
              RJVC
            </h2>
          </div>
          <div class="hidden md:flex flex-1 justify-end gap-8">
            <div class="flex items-center gap-9">
              <a
                class="text-white text-sm font-medium leading-normal hover:text-primary transition-colors"
                href="./index.html"
                >Accueil</a
              >
              <a
                class="text-white text-sm font-medium leading-normal hover:text-primary transition-colors"
                href="./about.html"
                >À propos</a
              >
              <a
                class="text-white text-sm font-medium leading-normal hover:text-primary transition-colors"
                href="./communaut.html"
                >Communauté</a
              >
              <a
                class="text-white text-sm font-medium leading-normal hover:text-primary transition-colors"
                href="./evenemetavenir.html"
                >Événements</a
              >
              <a
                class="text-white text-sm font-medium leading-normal hover:text-primary transition-colors"
                href="./contact.html"
                >Contact</a
              >
              <a
                class="text-white text-sm font-medium leading-normal hover:text-primary transition-colors"
                href="./rejoindre.php"
                >Nous Rejoindre</a
              >
            </div>
            <button
              class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-primary text-background-dark text-sm font-bold leading-normal tracking-[0.015em] hover:bg-primary/90 transition-colors"
            >
              <span class="truncate">Faire un don</span>
            </button>
          </div>
          <button id="mobile-menu-button" class="md:hidden text-white p-2">
            <i class="fas fa-bars text-3xl"></i>
          </button>
        </header>
        <main class="flex-1 px-4 sm:px-10 lg:px-20 py-10 sm:py-16 lg:py-24">
          <div class="mx-auto max-w-6xl">
            <!-- PageHeading -->
            <div
              class="flex flex-wrap justify-between gap-3 mb-12 text-center sm:text-left"
            >
              <div class="w-full flex flex-col gap-3">
                <p
                  class="text-white text-4xl sm:text-5xl font-bold leading-tight tracking-[-0.033em]"
                >
                  Connect With Us
                </p>
                <p
                  class="text-[#E6F1FF]/80 text-lg font-normal leading-normal max-w-3xl mx-auto sm:mx-0"
                >
                  We'd love to hear from you. Whether you have a question, want
                  to join, or just want to say hello, feel free to reach out.
                </p>
              </div>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
              <!-- Left Column: Contact Info -->
              <div class="flex flex-col gap-10">
                <div>
                  <!-- SectionHeader -->
                  <h3
                    class="text-primary text-2xl font-bold leading-tight tracking-[-0.015em] pb-4 border-b border-primary/20"
                  >
                    Contact Information
                  </h3>
                  <div class="mt-6 flex flex-col gap-4">
                    <!-- ListItem: Address -->
                    <div class="flex items-center gap-4 py-2">
                      <div
                        class="text-primary flex items-center justify-center rounded-lg bg-primary/10 shrink-0 size-12"
                      >
                        <i class="fas fa-map-marker-alt text-2xl"></i>
                      </div>
                      <div class="flex flex-col justify-center">
                        <p
                          class="text-white text-base font-medium leading-normal line-clamp-1"
                        >
                          Our Address
                        </p>
                        <p
                          class="text-[#E6F1FF]/70 text-sm font-normal leading-normal line-clamp-2"
                        >
                          123 Faith Street, Unity City, 12345
                        </p>
                      </div>
                    </div>
                    <!-- ListItem: Phone -->
                    <div class="flex items-center gap-4 py-2">
                      <div
                        class="text-primary flex items-center justify-center rounded-lg bg-primary/10 shrink-0 size-12"
                      >
                        <i class="fas fa-phone text-2xl"></i>
                      </div>
                      <div class="flex flex-col justify-center">
                        <p
                          class="text-white text-base font-medium leading-normal line-clamp-1"
                        >
                          Call Us
                        </p>
                        <p
                          class="text-[#E6F1FF]/70 text-sm font-normal leading-normal line-clamp-2"
                        >
                          (123) 456-7890
                        </p>
                      </div>
                    </div>
                    <!-- ListItem: Email -->
                    <div class="flex items-center gap-4 py-2">
                      <div
                        class="text-primary flex items-center justify-center rounded-lg bg-primary/10 shrink-0 size-12"
                      >
                        <i class="fas fa-envelope text-2xl"></i>
                      </div>
                      <div class="flex flex-col justify-center">
                        <p
                          class="text-white text-base font-medium leading-normal line-clamp-1"
                        >
                          Email Us
                        </p>
                        <p
                          class="text-[#E6F1FF]/70 text-sm font-normal leading-normal line-clamp-2"
                        >
                          hello@rjvc.org
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
                <div>
                  <!-- SectionHeader -->
                  <h3
                    class="text-primary text-2xl font-bold leading-tight tracking-[-0.015em] pb-4 border-b border-primary/20"
                  >
                    Follow Us
                  </h3>
                  <div class="flex items-center gap-4 mt-6">
                    <a
                      aria-label="Facebook"
                      class="flex items-center justify-center size-10 rounded-full bg-primary/10 text-primary hover:bg-primary hover:text-background-dark transition-colors"
                      href="#"
                    >
                      <svg
                        class="size-5"
                        fill="currentColor"
                        viewbox="0 0 24 24"
                      >
                        <path
                          d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"
                        ></path>
                      </svg>
                    </a>
                    <a
                      aria-label="Instagram"
                      class="flex items-center justify-center size-10 rounded-full bg-primary/10 text-primary hover:bg-primary hover:text-background-dark transition-colors"
                      href="#"
                    >
                      <svg
                        class="size-5"
                        fill="currentColor"
                        viewbox="0 0 24 24"
                      >
                        <path
                          d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.012 3.584-.07 4.85c-.148 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.85s.012-3.584.07-4.85C2.27 3.854 3.726 2.31 6.979 2.163 8.244 2.175 8.624 2.163 12 2.163zm0 1.625c-3.176 0-3.546.012-4.78.069-2.733.124-3.951 1.34-4.075 4.075-.057 1.234-.069 1.604-.069 4.78s.012 3.546.069 4.78c.124 2.733 1.342 3.951 4.075 4.075 1.234.057 1.604.069 4.78.069s3.546-.012 4.78-.069c2.733-.124 3.951-1.342 4.075-4.075.057-1.234.069-1.604.069-4.78s-.012-3.546-.069-4.78c-.124-2.733-1.342-3.951-4.075-4.075-1.234-.057-1.604-.069-4.78-.069zm0 3.063c-2.733 0-4.951 2.218-4.951 4.951s2.218 4.951 4.951 4.951 4.951-2.218 4.951-4.951-2.218-4.951-4.951-4.951zm0 8.242c-1.815 0-3.291-1.476-3.291-3.291s1.476-3.291 3.291-3.291 3.291 1.476 3.291 3.291-1.476 3.291-3.291 3.291zm4.965-8.835c-.781 0-1.416.635-1.416 1.416s.635 1.416 1.416 1.416 1.416-.635 1.416-1.416-.635-1.416-1.416-1.416z"
                        ></path>
                      </svg>
                    </a>
                    <a
                      aria-label="YouTube"
                      class="flex items-center justify-center size-10 rounded-full bg-primary/10 text-primary hover:bg-primary hover:text-background-dark transition-colors"
                      href="#"
                    >
                      <svg
                        class="size-5"
                        fill="currentColor"
                        viewbox="0 0 24 24"
                      >
                        <path
                          d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"
                        ></path>
                      </svg>
                    </a>
                  </div>
                </div>
              </div>
              <!-- Right Column: Contact Form -->
              <div
                class="bg-primary/5 rounded-xl p-8 lg:p-10 border border-primary/20"
              >
                <h3
                  class="text-primary text-2xl font-bold leading-tight tracking-[-0.015em] mb-6"
                >
                  Send us a Message
                </h3>
                <!-- Afficher le message de succès ou d'erreur -->
                <?php if ($successMessage): ?>
                <p style="color: green"><?php echo $successMessage; ?></p>
                <?php elseif ($errorMessage): ?>
                <p style="color: red"><?php echo $errorMessage; ?></p>
                <?php endif; ?>
                <form action="process_contact.php" class="space-y-6" method="POST" id="contact-form">
                  <div>
                    <label
                      class="block text-sm font-medium text-[#E6F1FF]"
                      for="full-name"
                      >Full Name</label
                    >
                    <div class="mt-2">
                      <input
                        class="block w-full rounded-md border-0 bg-[#0A192F]/50 py-2.5 px-3 text-white shadow-sm ring-1 ring-inset ring-primary/30 placeholder:text-[#E6F1FF]/50 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6 transition-all"
                        id="full-name"
                        name="full-name"
                        required=""
                        type="text"
                      />
                    </div>
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-[#E6F1FF]"
                      for="email"
                      >Email Address</label
                    >
                    <div class="mt-2">
                      <input
                        class="block w-full rounded-md border-0 bg-[#0A192F]/50 py-2.5 px-3 text-white shadow-sm ring-1 ring-inset ring-primary/30 placeholder:text-[#E6F1FF]/50 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6 transition-all"
                        id="email"
                        name="email"
                        required=""
                        type="email"
                      />
                    </div>
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-[#E6F1FF]"
                      for="reason"
                      >Reason for Contact</label
                    >
                    <div class="mt-2">
                      <select
                        class="block w-full rounded-md border-0 bg-[#0A192F]/50 py-2.5 px-3 text-white shadow-sm ring-1 ring-inset ring-primary/30 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6 transition-all"
                        id="reason"
                        name="reason"
                        required=""
                      >
                        <option>Join RJVC</option>
                        <option>General Question</option>
                        <option>Event Info</option>
                        <option>Other</option>
                      </select>
                    </div>
                  </div>
                  <div>
                    <label
                      class="block text-sm font-medium text-[#E6F1FF]"
                      for="message"
                      >Message</label
                    >
                    <div class="mt-2">
                      <textarea
                        class="block w-full rounded-md border-0 bg-[#0A192F]/50 py-2.5 px-3 text-white shadow-sm ring-1 ring-inset ring-primary/30 placeholder:text-[#E6F1FF]/50 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6 transition-all"
                        id="message"
                        name="message"
                        required=""
                        rows="4"
                      ></textarea>
                    </div>
                  </div>
                  <div>
                    <input type="hidden" name="csrf_token" value="<?php echo bin2hex(random_bytes(32)); ?>">
                    <button
                      class="flex w-full justify-center rounded-lg bg-primary px-4 py-3 text-sm font-bold text-background-dark shadow-sm hover:bg-primary/90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary transition-colors"
                      type="submit"
                    >
                      Send Message
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </main>
        <!-- Footer -->
        <footer class="border-t border-primary/20 mt-16">
          <div class="mx-auto max-w-6xl px-4 sm:px-10 lg:px-20 py-8">
            <div
              class="flex flex-col sm:flex-row justify-between items-center gap-4"
            >
              <p class="text-sm text-[#E6F1FF]/60">
                © 2024 RJVC. All rights reserved.
              </p>
              <div class="flex items-center gap-4 text-sm text-[#E6F1FF]/80">
                <a class="hover:text-primary transition-colors" href="#"
                  >Privacy Policy</a
                >
                <a class="hover:text-primary transition-colors" href="#"
                  >Terms of Service</a
                >
              </div>
            </div>
          </div>
        </footer>
      </div>
    </div>

    <script>
      // Mobile menu functionality
      const mobileMenuButton = document.getElementById("mobile-menu-button");
      const closeMenuButton = document.getElementById("close-menu-button");
      const mobileMenu = document.getElementById("mobile-menu");
      const mobileMenuOverlay = document.getElementById("mobile-menu-overlay");

      function openMobileMenu() {
        mobileMenu.classList.add("open");
        mobileMenuOverlay.classList.add("open");
        document.body.style.overflow = "hidden";
      }

      function closeMobileMenu() {
        mobileMenu.classList.remove("open");
        mobileMenuOverlay.classList.remove("open");
        document.body.style.overflow = "";
      }

      mobileMenuButton.addEventListener("click", openMobileMenu);
      closeMenuButton.addEventListener("click", closeMobileMenu);
      mobileMenuOverlay.addEventListener("click", closeMobileMenu);

      // Close menu when clicking on a link
      const mobileLinks = mobileMenu.querySelectorAll("a");
      mobileLinks.forEach((link) => {
        link.addEventListener("click", closeMobileMenu);
      });

      // Close menu with Escape key
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          closeMobileMenu();
        }
      });
    </script>
  </body>
</html>
